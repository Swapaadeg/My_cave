(self.webpackChunk=self.webpackChunk||[]).push([[524],{2609:(e,t,n)=>{n(1629),n(6099),n(3362),n(8992),n(3949),n(3500),document.addEventListener("DOMContentLoaded",function(){var e=document.querySelector(".filter-pays"),t=document.querySelector(".filter-region"),n=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t.innerHTML='<option value="">Toutes les régions</option>',e&&fetch("/get-regions?paysId=".concat(e),{method:"GET",headers:{Accept:"application/json"}}).then(function(e){return e.json()}).then(function(e){e.regions.forEach(function(e){var o=document.createElement("option");o.value=e.id,o.textContent=e.nom,n&&e.id==n&&(o.selected=!0),t.appendChild(o)})}).catch(function(e){return console.error("Erreur lors du chargement des régions:",e)})};if(e&&t){e.addEventListener("change",function(){n(this.value)});var o=e.value,c=t.dataset.selected;o&&n(o,c)}})},4028:(e,t,n)=>{"use strict";n(2609),n(9572),n(4363),n(8542);console.log("This log comes from assets/app.js - welcome to AssetMapper! 🎉")},4363:(e,t,n)=>{n(6280),n(6918),n(1629),n(6099),n(8940),n(3362),n(8992),n(3949),n(3500),document.addEventListener("DOMContentLoaded",function(){function e(){var e=0;document.querySelectorAll(".stock-quantite").forEach(function(t){e+=parseInt(t.textContent,10)||0});var t=document.querySelector(".stock-total .stock-total-value");t&&(t.textContent=e)}document.querySelectorAll(".ajouter-cave").forEach(function(e){e.addEventListener("click",function(){var e=this,t=this.dataset.id,n=this.dataset.token;t&&n&&fetch("/cave/ajouter/".concat(t),{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Requested-With":"XMLHttpRequest"},body:"_token=".concat(encodeURIComponent(n))}).then(function(e){if(!e.ok)throw new Error("Erreur HTTP: ".concat(e.status));return e.text()}).then(function(){e.textContent="Ajoutée ✔️",e.disabled=!0,e.classList.add("ajoutee")}).catch(function(e){alert("Une erreur est survenue : "+e.message)})})}),document.querySelectorAll(".stock-actions").forEach(function(t){var n=t.querySelector(".btn-increment"),o=t.querySelector(".btn-decrement"),c=t.querySelector(".stock-quantite");n&&n.addEventListener("click",function(t){t.preventDefault();var n=this.dataset.url,o=this.dataset.token;fetch(n,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Requested-With":"XMLHttpRequest"},body:"_token=".concat(encodeURIComponent(o))}).then(function(e){return e.json()}).then(function(t){t.success&&c&&(c.textContent=t.quantite,e())})}),o&&o.addEventListener("click",function(t){t.preventDefault();var n=this.dataset.url,o=this.dataset.token;fetch(n,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Requested-With":"XMLHttpRequest"},body:"_token=".concat(encodeURIComponent(o))}).then(function(e){return e.json()}).then(function(t){t.success&&c&&(c.textContent=t.quantite,e())})})})})},8542:()=>{window.ouvrirModal=function(e,t){var n=document.getElementById("modal-reponse");document.getElementById("form-reponse").action="/cave/"+e+"/repondre/"+t,n.style.display="block"},window.fermerModal=function(){document.getElementById("modal-reponse").style.display="none"}},9572:(e,t,n)=>{n(6031),document.addEventListener("DOMContentLoaded",function(){var e=document.querySelector(".burger"),t=document.querySelector(".navbar");e&&e.addEventListener("click",function(){t.classList.toggle("open")})}),setTimeout(function(){var e;(e=document.getElementById("modale-flash"))&&(e.style.display="none")},2e3)}},e=>{e.O(0,[441],()=>{return t=4028,e(e.s=t);var t});e.O()}]);